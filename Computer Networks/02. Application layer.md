# 02. Application layer
- The applications run on the host
- Application layer is not related to the network core as the network core only carries network data, not the user's data.

**Example of protocols which run on application layer**
1. HTTPS/ HTTP
2. DNS
3. DHCP
4. SMTP
5. IMAP
6. POP3
7. FTP

## Application architecture
There are two types of application architecture
1. Client-server 
2. Peer to peer

### Client-server
- In a client-server arechitecture, there exists a dedicated client and a dedicated server
- Client = only able to request services from the server. A client will have a dynamic IP address, the IP address may change time to time.
- Server = Only provides service which is requested from the client. A server will always have a dedicated IP address

**Advantages**
- Client-server provides a guaranteed service as the server is always functioning and online.

**Disadvantages**
- More complex to implement. As the number of people requesting the service increases, there 

### Peer to peer
- In peer to peer architecture, there is no decicated client and server. The devices may act as both a client which request services or as a server which provide services.
- Example: file sharing (BitTorrent), internet telephony(Skype)

**Advantages**
- More cost efficient. There is no need for expensive servers
- Self-scalability. The size of network can be easily upgraded and increased to accomodate more users

## Process communication

**Process**
- A process is defined as a program which is running on a host.
- Processes in different hosts communicate with each other by exchanging messages.
- A process is uniquely identified by its port number

**Sockets**
- Sockets allow the process to communicate with the bottom layers (transport, network, link, and physical) which are controlled by the OS
- The socket is located in between the application and transport layer

## Hypertext transfer protocol (HTTP)
- HTTP is an application layer protocol which is used for web services
- HTTP is stateless (the server does not maintain / remember the information about past client requests)

**How does HTTP work?**
- Before HTTP protocol is used to obtain webpage services, TCP 3 way handshake is conducted to establish a connection between the client and the server.
- After TCP connection is established between the client and server,  HTTP messages are exchanged between the client and server.
- Once the HTTP messages are exchanged finished, the TCP connection is closed

**Types of HTTP connections:**
1. Non-persistent HTTP connection
2. Persistent HTTP connection

### Non-persistent HTTP connection
- In non-persistent HTTP connection, a single TCP connection can only send at most one object over, then close the connection
- If we want to download multiple objects, we need to establish multiple connections
- Non-persistent HTTP connection is used in Email services

  ![image](https://github.com/user-attachments/assets/a086012b-55e1-458b-984e-ae3c75afe5e7)

### Persistent HTTP connection
In persistent HTTP connection, multiple objects can be sent over a single TCP connection, then close the connection. Thus, it only requires a single connection to download multiple objects.

**Pipelining in persistent HTTP connection**
- Refers to the ability of the client to request multiple different requests and receive the HTTP responses simultaneously.
- As a result, the amount of time required for the user to obtained the required information is reduced since there is less delay. Only a single RTT is required to obtain all the required information.

**Round-trip time (RTT)**

Refers to the time taken for a packet to travel from the client to the server and then back to the client

**HTTP response time**

Formula:

HTTP response time = 2RTT + File transmission time

First RTT refers to establishment of TCP connection

Second RTT refers to the exchange of HTTP messages (HTTP request and response)

2 RTT = total of 4 connections established

The file transmission time highly depends on the network's bandwidth and the size of the file


