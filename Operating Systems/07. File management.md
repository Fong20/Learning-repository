# 07. File management

## Types of storage management
1. storage space management (storage which has been occupied)
2. free space management (free storage which has not been occupied)

## File system
**File system is a collection of files which are organized in a way that the operating system can manage them.** It consists of two parts which are the files and the directory structure (information of the files)

## File
- File is a logical storage unit
- A file has a certain structure which depends on its type (Eg: text file, source file, executable file etc)

## Directory structure
- The directory structure stores the information of the file
- It is located inside the secondary storage

## Storage addressing system
Components of a hard disk
- platter
- sector
- track
- arm
- head

  ### Cylinder head sector addressing (CHS)
  - Cylinder head sector is one of the older methods which is used to determine the address of the file
  - Check the file is located in which platter, followed by the track, and finally the sector

  ### Logical block addressing (LBA)
  - Introduced to replace the old cylinder head sector addressing (CHS)
  - In logical block addressing, the hard disk drive / whole storage system is divided into many logical blocks (allocation units/clusters) and each block is assigned with a unique number. The number is then used as an address to the hard disk and it counts the existing blocks starting from zero.
  - This addressing method is simpler and more efficient as compared to CHS
  - 1 block = 1 cluster
  - 1 sector = 512 bytes
  - 1 cluster = 2 sectors (1024 bytes)
  - Allocating the ideal block size is very important since the remaining unused blocks which are not occupied by a file are will cause internal fragmentation.
  - Generally, we use smaller block size to minimize internal fragmentation. The ideal block size is 1024 bytes (1 Kb) to 4096 bytes (4Kb).
  - Assuming a file needs 1500 bytes of storage space and each block size is 1024 bytes, we cannot just assign a block as it is not enough to fit in the file. Thus, we need to allocate 2 blocks to store the file. The remaining block (2048-1500 = 548 bytes) are wasted and known as fragmentation

  **Example:**
  
  ![image](https://github.com/user-attachments/assets/a1860cce-ff61-44c7-a5b3-e09303ca4f0f)

## Access method
The access method determines how the file is accessed and read into the memory

  ### Sqeuential access
  - It is the simplest and most common method
  - In this method, information is processed in order

  ![image](https://github.com/user-attachments/assets/5f646e41-7e25-4838-b861-4a1730d19163)

  ### Direct access
  - In direct address, programs are allowed to read and write records repidly in no particular order
  - The block that contains the required information is determined, and the information is read from that block directly.

  **Example:**
  
  ![image](https://github.com/user-attachments/assets/0fc2edb8-9b52-4e02-88ee-686302d7adbb)

  ### Index
  - The index is built on top of the direct-access method
  - Each index is associated with a pointer. To search for a particular file, just search the index of the desired information and then use the pointer to access the file.

    ![image](https://github.com/user-attachments/assets/88bff6ce-0ac3-40cb-8a76-6c7a59ef83e1)


