# 05. Process management

## Process
  ### Concept of a process
  - Process are **programs which are currently being executed (currently running)**
  - A program becomes a process when standby tasks (interruption) are performed to run the executable file and the executable file is loaded into the memory.
  - Therefore, a process has to be created in order for the program to run
  -  There can be multiple processes from the same program. Although two processes may be associated with the same program, thay are considred as two separate processes (Example: when we run two chrome web browsers, the program code will be identical but the data, heap and stack sessions will be different)
  
  ### Information in a process
  Generally, a process contains the program code and other information. The information can be divided into four sections:
  - text (program code)
  - stack
  - data
  - heap
  
    ### Text
    - Contains the program code
    - It also contains the current activity represented by the value of the program counter
   
    ### Stack
    Contains temporary data, such as function parameters, return addresses and local variables

    ### Data 
    Contains the global variable

    ### Heap 
    Dynamically allocates memory to process during its run time

    ![image](https://github.com/Fong20/Learning-repository/assets/150316121/3aa3e89b-deba-41b9-ae87-c311878b6255)

  ### Process states
  As a process is being executed, it changes state. The process could be in one of the following states:
  - New: Newly Created Process (or) being-created process.
  - Ready: After the creation, process moves to the Ready state, i.e. the process is waiting to be assigned to the processor for execution.
  - Run: The process is executed in CPU (only one process at a time can be under execution in a single processor)
  - Wait (or Block): The process is waiting for some events to occur.
  - Complete (or Terminated): The process completed its execution.
  
    ![image](https://github.com/Fong20/Learning-repository/assets/150316121/a1016fdc-8518-4a61-94b4-cfcdb864ef82)
  
  Note:
  - Only one process can be in running state on a single processing core at any instant (
  - If there are additional processes which are waiting to be processed by the processor, it can be in either the ready state or waiting state

## Process control block (PCB)
- A process control block (PCB) is a **data structure used by operating systems to store important information about running processes.**
- PCB is also known as the task control block (TCB).
- It acts as the **identofication for each process, each process in the OS is represented by a PCB.**
- The PCB is created and managed by the OS

  ### Components of a PCB
  ![image](https://github.com/Fong20/Learning-repository/assets/150316121/4df03e56-108c-4507-bf08-93071b9dad35)

## Process table
The process table is **an array of PCBs, which means it logically contains a PCB for all of the current processes in the system.**

## Multi-programming and time sharing
Processes have to be organized efficiently to ensure that the CPU is utilized efficiently (busy all the time) and ensure that each process will eventually be run

To ensure that the CPU is properly utilzied to execute multiple processes, we use two techniques:
- Multi-programming (CPU switch and executes another program when the current program enters the waiting state)
- Time-sharing (CPU provide a specific processing time (equal time interval) for each process. If the process cannot be executed finish within the given time, the CPU will move on and execute another process instead.) Time sharing is beneficial in running multi-application

## Process creation and termination

  ### Process creation
  The new state in the process state is known as process creation

  ### Process termination
  - Process executes the last statement and requests the OS to delete it
  - Resources are then de-allocated by the OS so they can be allocated to other processes which are waiting for the resources.

## Process queueing
- Process ququeing decribes how the processes are queued for the CPU to execute.
- It depends on the scheduling algorithm
- A process can migrate among various queues throughout its lifetime
- A process which is waiting for CPU to execute will be placed into a queue

  ### Types of queue
  - Job queue = Consists of all processes in the system
  - Ready queue = Processes which are ready to be executed
  - Device queue = Processes which are waiting for I/0 device

## Process scheduling
Describes the scheduling of process through different schedulers

  ### Types of schedulers
  - short-term: Selects a process from ready queue to be executed by the CPU
  - long-term: Select a pricess to be brought to ready queue
  - medium-term: Determine processes which should be terminated or resumed (Eg: crashed program)

    ### Short-term schedulers
    A short-term scheduler selects a process in the memory that is ready to be executed

    CPU scheduling decisions may take place when a process
    1. switches from running state to waiting state
    2. is terminated
    3. switches from running state to ready state
    4. switches from waiting state to ready state.

  ### Scheduling criteria
  - Scheduling criterias are used to calculate the algorithm to be used.
  - Generally, we want to increase CPU utilization and throughput while minimizing turnaround time, waiting time and response time.

    **Criterias**
  - CPU utilization (Ensure that the CPU is kept busy all the time)
  - Throughput (How many processes which can be executed by the CPU in one second)
  - Turnaround time (Time from the submission of a process at ready queue to the time of completion)
  - Waiting time (Time in which a process has been waiting in the ready queue)
  - Response time (Time it takes from when a request was submitted to the first response provided)
  - burst time = execution time

  Steps to calculate algorithm
  - Draw a gantt chart to show the sequence of the processes
  - calculate the waiting time and turnaround time
  - waiting time = start time - arrival time
  - turnaround time = completion time - arrival time

## Scheduling algorithm
- first come first served (FCFS)
- shortest job first (SJF)
- priority scheduling (Pr)
- round robin (RR)

  ### First come first serve
  When the arrival time is the same, the shortest burst time must be at arranged at the front whereas the longest burst time must be arranged at the back

  convoy effect = short process is arranged behind the long process. This will cause the processes behind to not be executed.
  
